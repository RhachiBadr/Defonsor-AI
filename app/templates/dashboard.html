<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tableau de bord - Defonsor AI</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style copy.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
  <header id="header">
    <div class="logo-container">
      <img src="{{ url_for('static', filename='images/Logo Plateforme.png') }}" alt="Defonsor AI Logo" class="logo" loading="lazy">
    </div>
    <nav>
      <a href="{{ url_for('index') }}#accueil">Accueil</a>
      <a href="{{ url_for('index') }}#a-propos">Menaces</a>
      <a href="{{ url_for('index') }}#services">Nos Services</a>
      <a href="{{ url_for('index') }}#contact">Contact</a>
      <a href="#" id="logout-btn">Déconnexion</a>
    </nav>
    <button id="refresh-btn" class="entamer" data-href="{{ url_for('dashboard') }}">Rafraîchir la page</button>
  </header>

  <section id="dashboard" class="dashboard">
    <div class="dashboard-title">
      <i class="fas fa-shield-virus dashboard-title-icon" aria-label="Icône de bouclier symbolisant la protection"></i>
      <h2>Analyser un fichier ou une entrée</h2>
    </div>
    <p>Bonjour, {{ user.prenom }} {{ user.nom }} ! Chargez un fichier ou saisissez une URL, une requête ou un script pour vérifier s'il contient des menaces (XSS, SQL Injection, Phishing). Nous analysons vos données en toute sécurité.</p>
    <div class="dashboard-content">
      <div class="dashboard-tabs">
        <button class="tab-btn active" data-tab="file-tab" aria-selected="true">Fichier</button>
        <button class="tab-btn" data-tab="text-tab" aria-selected="false">Texte</button>
      </div>
      <div class="tab-content active" id="file-tab">
        <div class="file-upload-container">
          <div class="upload-area" id="upload-area">
            <i class="fas fa-upload upload-icon" aria-hidden="true"></i>
            <p>Glissez et déposez votre fichier ici ou <span class="choose-file" tabindex="0" role="button" aria-label="Choisir un fichier">choisissez un fichier</span></p>
            <input type="file" id="file-input" accept=".txt,.pdf,.doc,.docx,.zip,.rar" hidden aria-describedby="file-input-desc">
            <span id="file-input-desc" class="sr-only">Sélectionnez un fichier pour analyse, formats acceptés : .txt, .pdf, .doc, .docx, .zip, .rar.</span>
          </div>
          <div class="file-info" id="file-info" style="display: none;">
            <p>Fichier sélectionné : <span id="file-name"></span></p>
            <button id="clear-file" class="clear-btn"><i class="fas fa-trash-alt" aria-hidden="true"></i> Supprimer</button>
          </div>
        </div>
      </div>
      <div class="tab-content" id="text-tab">
        <div class="text-input-container">
          <textarea id="text-input" placeholder="Collez une URL, une requête ou un script ici..." aria-describedby="text-input-desc"></textarea>
          <span id="text-input-desc" class="sr-only">Entrez une URL, une requête ou un script pour analyse.</span>
          <button id="clear-text" class="clear-btn"><i class="fas fa-trash-alt" aria-hidden="true"></i> Supprimer</button>
        </div>
      </div>
      <button id="analyze-btn" class="analyze-btn" type="button" disabled>Analyser</button>
      <div class="analysis-result" id="analysis-result" style="display: none;">
        <h3>Résultat de l'analyse</h3>
        <div class="result-content" id="result-content">
          <!-- Les résultats seront insérés ici par JavaScript -->
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-content">
      <div class="footer-main">
        <i class="fas fa-shield-alt footer-icon" aria-hidden="true"></i>
        <p>@2025, Defonsor AI. <a href="{{ url_for('about') }}" class="rights-reserved">Tous droits réservés.</a></p>
      </div>
      <div class="footer-links">
        <a href="{{ url_for('legal') }}">Mentions légales</a> |
        <a href="{{ url_for('privacy') }}">Politique de confidentialité</a> |
        <a href="{{ url_for('social') }}">Suivez-nous</a>
      </div>
    </div>
  </footer>

  <script src="{{ url_for('static', filename='js/script1.js') }}"></script>
</body>
</html>